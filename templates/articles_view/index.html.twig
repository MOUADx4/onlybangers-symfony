{% extends 'base.html.twig' %}

{% block title %}Tous les Articles - OnlyBangers{% endblock %}

{% block body %}

    {# ðŸ”¥ Hero Section #}
    <section class="py-5 text-center bg-dark text-white rounded shadow-sm mb-5">
        <h1 class="display-4 fw-bold">Tous les Articles</h1>
        <p class="lead mt-3">
            Explore lâ€™ensemble de nos contenus : nouveautÃ©s, analyses, classiques du rap US.
        </p>
    </section>

    {# ðŸ”¥ Grille des articles (AVEC BORDURE NOIRE) #}
    <section class="section-bordered mb-5">
        <h2 class="mb-4 text-center fw-bold">ðŸ“° Tous nos articles</h2>

        <div class="row">
            {# âœ… Pagination ici : for article in pagination #}
            {% for article in pagination %}
                <div class="col-md-3 mb-4">
                    <div class="card h-100 shadow-sm bg-dark text-white border-0">

                        <img
                            src="{{ asset(article.image ? 'uploads/articles/' ~ article.image : 'images/article-default.jpg') }}"
                            class="card-img-top rounded-top"
                            alt="{{ article.title }}"
                            style="height: 180px; object-fit: cover;"
                        >

                        <div class="card-body text-center">
                            <h5 class="card-title fw-bold text-white">
                                {{ article.title }}
                            </h5>

                            <a href="{{ path('article_show', {'id': article.id}) }}"
                               class="btn btn-outline-light btn-sm mt-2">
                                Lire l'article
                            </a>
                        </div>

                    </div>
                </div>
            {% else %}
                <div class="col-12 text-center">
                    <p class="text-muted">Aucun article disponible pour le moment.</p>
                </div>
            {% endfor %}
        </div>

        {# âœ… Liens pagination en bas #}
        <div class="d-flex justify-content-center mt-4">
            {{ knp_pagination_render(pagination) }}
        </div>

    </section>

    <style>
        .section-bordered {
            border: 3px solid #000;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
        }
    </style>

{% endblock %}
